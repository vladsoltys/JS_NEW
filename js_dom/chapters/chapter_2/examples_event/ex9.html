<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/light.css" id="theme">
  <title>Пример 9 - Тёмная тема</title>
</head>

<body>

  <div class="container">
    <h4>Тёмная тема</h4>
    <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Aperiam sint cupiditate earum eligendi odit vero,
      repellat architecto eius atque accusantium consequuntur optio velit illum necessitatibus sunt assumenda ipsam enim
      amet.</p>
    <label for="">
      Включить тёмную тему?
      <input type="checkbox" class="theme-checkbox">
    </label>
  </div>

  <script>
    let checkbox = document.querySelector('.theme-checkbox');

    if(localStorage.getItem('theme') === 'true') {
      theme.setAttribute('href', '../css/dark.css');
      checkbox.checked = true
    }

    checkbox.onchange = function () {
      // console.log(this)
      if (this.checked) {
        localStorage.setItem('theme', true)
        theme.setAttribute('href', '../css/dark.css');
      } else {
        localStorage.setItem('theme', false)
        theme.setAttribute('href', '../css/light.css');
      }
    }
  </script>
</body>

</html>